<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>HR Data Viewer</title>
<style>
  body {
    font-family: Arial, sans-serif; 
    margin: 20px; 
    background: #f9f9f9;
  }
  .container {
    width: 80%;
    margin: 50px auto; 
    background: #fff; 
    padding: 20px; 
    border-radius: 8px; 
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    overflow-x: auto; /* Allow horizontal scroll if table is too wide */
  }
  h1 {
    font-size: 24px; 
    font-weight: normal; 
    margin-bottom: 10px;
    text-align: center;
  }
  p {
    font-size: 16px; 
    margin-bottom: 20px; 
    text-align: center;
  }
  input[type="file"] {
    display: block; 
    margin: 0 auto; 
    margin-bottom: 20px;
  }
  table {
    border-collapse: collapse; 
    width: 100%;
    min-width: 600px; /* Just an example to ensure scroll if many columns */
  }
  th, td {
    border: 1px solid #ddd; 
    padding: 8px; 
    font-size: 14px;
    white-space: nowrap; /* Keep cells single-line, horizontal scroll available */
  }
  th {
    background: #f5f5f5; 
    font-weight: bold;
    text-align: left;
  }
</style>
</head>
<body>
<div class="container">
  <h1>Welcome to the HR Data Viewer</h1>
  <p>Please upload a CSV file containing HR data (e.g. first_name, last_name, date_of_birth).</p>
  <input type="file" id="csvFileInput" accept=".csv" />
  <div id="tableContainer"></div>
</div>

<script>
  document.getElementById('csvFileInput').addEventListener('change', function(e) {
    const file = e.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function(e) {
      const text = e.target.result;
      const rows = text.trim().split('\n');
      const tableContainer = document.getElementById('tableContainer');
      tableContainer.innerHTML = ''; // Clear previous table if any

      if (rows.length === 0) {
        tableContainer.textContent = "No data found in the file.";
        return;
      }

      const table = document.createElement('table');
      rows.forEach((row, index) => {
        // Split by comma
        let cols = row.split(',');

        // Remove surrounding quotes if present
        cols = cols.map(col => col.replace(/^"(.*)"$/, '$1'));

        const tr = document.createElement('tr');
        cols.forEach(col => {
          const cell = index === 0 ? document.createElement('th') : document.createElement('td');
          cell.textContent = col.trim();
          tr.appendChild(cell);
        });
        table.appendChild(tr);
      });
      tableContainer.appendChild(table);
    };
    reader.readAsText(file);
  });
</script>
</body>
</html>
